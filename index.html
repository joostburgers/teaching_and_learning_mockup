<!DOCTYPE html>
<html>
<head>
    <title>Faulkner Learning Modules</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="js/cardLoad.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="family.css">
    <link rel="stylesheet" type="text/css" href="css/learning_cards.css">
</head>

<body>

    <div id="page_header">
        <div id="header_logo"><a class="logo" href="http://faulkner.iath.virginia.edu/"><span class="digital">DIGITAL</span> Yoknapatawpha</a> · Teaching &amp; Learning</div>
        <div id="main-menu">
            <ul id="main-menu-links">
                <li>
                    <a href="http://faulkner.iath.virginia.edu/family/index-about.php">About</a>
                    <ul>
                        <li class="first-item"><a href="http://faulkner.iath.virginia.edu/family/credits.php">Credits</a></li>
                        <li><a href="https://faulkner.drupal.shanti.virginia.edu/content/dedication" target="_blank">Dedication</a></li>
                        <li><a href="https://faulkner.drupal.shanti.virginia.edu/content/digital-yoknapatawpha-bibliography" target="_blank">Bibliography</a></li>
                        <li><a href="http://faulkner.iath.virginia.edu/family/dysocialmedia.php">DY on Social Media</a></li>
                        <li><a href="https://faulkner.drupal.shanti.virginia.edu/content/digital-yoknapatawpha-articles-presentations" target="_blank">Re-Presenting DY</a></li>
                        <li><a href="http://faulkner.iath.virginia.edu/family/videos-2016demos.php">2016 Demos</a></li>
                    </ul>
                </li>
                <li class="bullet-link">
                    <a href="http://faulkner.iath.virginia.edu/family/index-search.php">Search</a>
                    <ul>
                        <li class="first-item"><a href="http://faulkner.iath.virginia.edu/family/events/">Events</a></li>
                        <li>
                            <span class="nav-blank">Characters</span>
                            <ul>
                                <li class="first-item"><a href="http://faulkner.iath.virginia.edu/family/characters/">By Text</a></li>
                                <li><a href="http://faulkner.iath.virginia.edu/family/cumulative_characters/">Cumulative</a></li>
                            </ul>
                        </li>
                        <li>
                            <span class="nav-blank">Locations</span>
                            <ul>
                                <li class="first-item"><a href="http://faulkner.iath.virginia.edu/family/locations/">By Text</a></li>
                                <li><a href="http://faulkner.iath.virginia.edu/family/cumulative_locations/">Cumulative</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li class="bullet-link">
                    <a href="http://faulkner.iath.virginia.edu/family/index-visualizations.php">Visualizations</a>
                    <ul>
                        <li class="first-item">
                            <span class="nav-blank">Location-Character</span>
                            <ul>
                                <li class="first-item"><a href="http://faulkner.iath.virginia.edu/characters-force.html">Force Directed</a></li>
                                <li><a href="http://faulkner.iath.virginia.edu/characters-bipart.html">Bipartite</a></li>
                            </ul>
                        </li>
                        <li><a href="http://faulkner.iath.virginia.edu/char-char-force.html">Character-Character</a></li>
                        <li><a href="http://faulkner.iath.virginia.edu/characters-graph.html">Character-Event</a></li>
                        <li>
                            <span class="nav-blank">Heatmaps</span>
                            <ul>
                                <li class="first-item"><a href="http://faulkner.iath.virginia.edu/family/heatmaps/spatial_heatmaps.php">Spatial</a></li>
                                <li><a href="http://faulkner.iath.virginia.edu/family/heatmaps/temporal_heatmaps.php">Temporal</a></li>
                            </ul>
                        </li>
                        <li>
                            <span class="nav-blank">Photographs</span>
                            <ul>
                                <li class="first-item"><a href="http://faulkner.iath.virginia.edu/family/photograph_locations.php">by Location</a></li>
                                <li><a href="http://faulkner.iath.virginia.edu/family/photograph_repositories.php">by Repository</a></li>
                            </ul>
                        </li>
                        <li><a href="http://faulkner.iath.virginia.edu/narrativeanalysis.html" target="_blank">Narrative Analysis</a></li>
                    </ul>
                </li>
                <li class="bullet-link">
                    <a href="http://faulkner.iath.virginia.edu/family/index-commentaries.php">Commentaries</a>
                    <ul>
                        <li class="first-item"><a href="http://faulkner.iath.virginia.edu/media/resources/DISPLAYS/FaulknerMapsHP.html" target="_blank">Faulkner &amp; Maps</a></li>
                        <li><a href="http://faulkner.iath.virginia.edu/YokCemeteries.html">Cemeteries</a></li>
                        <li><a href="http://faulkner.iath.virginia.edu/family/">Genealogies</a></li>
                        <li><a href="http://faulkner.iath.virginia.edu/racial_demography/">Race &amp; Place</a></li>
                        <li><a href="http://faulkner.iath.virginia.edu/family/aa_sources.php">Analyzing <em>Absalom, Absalom!</em></a></li>
                    </ul>
                </li>
                <li class="bullet-link">
                    <a href="http://faulkner.iath.virginia.edu/family/index-teaching_and_learning.php">Teaching &amp; Learning</a>
                    <ul>
                        <li class="first-item">
                            <span class="nav-blank">Resources by Text</span>
                            <ul>
                                <li class="first-item"><a href="http://faulkner.iath.virginia.edu/family/resources-re.php">"A Rose for Emily"</a></li>
                                <li><a href="http://faulkner.iath.virginia.edu/family/resources-ld.php">As I Lay Dying</a></li>
                                <li><a href="http://faulkner.iath.virginia.edu/family/resources-sf.php">The Sound and the Fury</a></li>
                                <li><a href="http://faulkner.iath.virginia.edu/family/resources-aa.php">Absalom, Absalom!</a></li>
                                <li><a href="http://faulkner.iath.virginia.edu/family/resources-ds.php">"Dry September"</a></li>
                            </ul>
                        </li>
                        <li><a href="http://faulkner.iath.virginia.edu/family/videos-teaching_and_learning.php">Videos</a></li>
                        <li><a href="https://faulkner.drupal.shanti.virginia.edu/content/pedagogyarticles" target="_blank">Articles</a></li>
                        <li><a href="https://faulkner.drupal.shanti.virginia.edu/content/tlworksheethomepage" target="_blank">Worksheets</a></li>
                        <li><a href="https://faulkner.drupal.shanti.virginia.edu/content/swhomepage" target="_blank">Student Work</a></li>
                    </ul>
                </li>
                <li class="bullet-link">
                    <a href="http://faulkner.iath.virginia.edu/family/index-indexes.php">Indexes</a>
                    <ul>
                        <li class="first-item"><a href="http://faulkner.iath.virginia.edu/family/cumulative_characters.php">Cumulative Characters</a></li>
                        <li><a href="http://faulkner.iath.virginia.edu/family/cumulative_locations.php">Cumulative Locations</a></li>
                        <li><a href="http://faulkner.iath.virginia.edu/family/recurring_events.php">Recurring Events</a></li>
                        <li><a href="https://faulkner.drupal.shanti.virginia.edu/content/indexofmssetc" target="_blank">Manuscripts</a></li>
                        <li><a href="https://faulkner.drupal.shanti.virginia.edu/content/indexofmagazineillustrations" target="_blank">Illustrations</a></li>
                        <li><a href="https://faulkner.drupal.shanti.virginia.edu/content/indexofaudioclips" target="_blank">Audio Clips</a></li>
                        <li><a href="http://faulkner.iath.virginia.edu/family/contributors.php">Scholarly Collaborators</a></li>
                        <li><a href="http://faulkner.iath.virginia.edu/family/videos-index.php">DY Videos</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>

    <div class="container-fluid">
    <div class="row">
		<div class="container">
			The following learning modules were developed with the help of a generous grant from the National Endowement for the Humanities. They have been piloted at institutions ranging from high school to college.
		</div></div>
        <div class="row">
            <div class="col-med-auto">
               
                <div class="facet-outline">
                    <div class="facet-title">Story</div>
                    <div id="story-filters">
                        <!-- Story filters will be populated dynamically -->
                    </div>
                </div>
                <div class="facet-outline">
                    <div class="facet-title">Modality</div>
                    <div id="modality-filters">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="in-person" value="In-Person" checked>
                            <label class="form-check-label" for="in-person">
                                In-Person
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="online-sync" value="Online Synchronous" checked>
                            <label class="form-check-label" for="online-sync">
                                Online Synchronous
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="online-async" value="Online Asynchronous" checked>
                            <label class="form-check-label" for="online-async">
                                Online Asynchronous
                            </label>
                        </div>
                    </div>
                </div>
                <div class="facet-outline">
                    <div class="facet-title">Paired Author </div>
                    <div id="author-filters">
                    </div>
                    </div>
</div>
                    <div class="col">
                        
                        <div id="card-container" class="row">
                            <!-- Information cards will be populated dynamically -->
                        </div>
                    </div>
                </div>
            </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
   <!-- <script>
        // Sample data for information cards
        
        
        
// Function to get the cards from the JSON file
		function getCards() {
			$.getJSON('https://raw.githubusercontent.com/joostburgers/teaching_and_learning_mockup/master/data/cardData.json', function (data) {

                populateStoryFilters(data);
                populateAuthorFilters(data);
                filterCards(data);
				
			});
        }

		
        // Function to populate the story filters based on available stories in the cards
        // loop over each card, to get multiple stories for each card and add them to the storyFilters.
        function populateStoryFilters(data) {
        cards = data
            var stories = [];

            $.each(cards, function (index, card) {
                if (stories.indexOf(card.story) === -1) {
                    stories.push(card.story);
                }
                //if there are multiple stories in the object then loop over them and add them to the stories array
                
            });
            console.log(stories);
            // turn stories into one array of stories
            stories = stories.flat();
            console.log(stories)
            var storyFilters = $("#story-filters");
            storyFilters.empty();

            
            $.each(stories, function (index, story) {
                var checkbox = $("<div class='form-check'><input class='form-check-input' type='checkbox' value='" + story + "'checked><label class='form-check-label'>" + story + "</label></div>");
                storyFilters.append(checkbox);
            });
        }


		function populateAuthorFilters(data) {
            cards = data
            var authors = [];

			$.each(cards, function (index, card) {
				if (authors.indexOf(card.paired_author) === -1 && card.paired_author !== null) {
					authors.push(card.paired_author);
				}
				//if there are multiple stories in the object then loop over them and add them to the stories array

			});
			
			// turn stories into one array of stories
			authors = authors.flat();
			console.log(authors)
			var authorFilters = $("#author-filters");
			authorFilters.empty();


			$.each(authors, function (index, author) {
				var checkbox = $("<div class='form-check'><input class='form-check-input' type='checkbox' value='" + author + "'checked><label class='form-check-label'>" + author + "</label></div>");
				authorFilters.append(checkbox);
			});
		}



        // Function to filter and display the information cards based on selected filters
		function filterCards(data) {
            cards = data
            var selectedStories = [];
			var selectedModalities = [];
            var selectedAuthors = [];
			// Get selected story filters
			$("#story-filters input:checked").each(function () {
				selectedStories.push($(this).val());
			});

			// Get selected modality filters
			$("#modality-filters input:checked").each(function () {
				selectedModalities.push($(this).val());
			});

			$("#author-filters input:checked").each(function () {
				selectedAuthors.push($(this).val());
            });
            console.log("selected authors " +selectedAuthors)
			// Filter cards based on selected filters
			var filteredCards = [];

			$.each(cards, function (index, card) {
				console.log(card.story);
				var selected = false;
				$.each(card.story, function (index, story) {
					selectedStories.forEach(function (selectedStory) {
						if (story.includes(selectedStory)) {
							selected = true;
						}
					})
				});

				if (
					(selected || selectedStories.length === 0) &&
                    (selectedModalities.length === 0 || selectedModalities.indexOf(card.modality) !== -1)
                    &&
                    (selectedAuthors.indexOf(card.paired_author) !== -1 || card.paired_author===null)
				) {
					filteredCards.push(card);
				}
			});

			console.log(filteredCards);

			// Display filtered cards
			var cardContainer = $("#card-container");
			cardContainer.empty();

			$.each(filteredCards, function (index, card) {
				var cardHtml = $("<div class='col'><a href='pages/" + card.url + "'><div class='card'><div class = 'info'><img src=images/" + ((card.image=="") ? 'background2.png' : card.image) + " class='card-img-top'><h5 class='card-title'>" + card.title + "</h5></div><div class='card-body'><p class='card-text'>" + ((card.story.length > 1) ? 'Stories: ' : 'Story: ') + card.story + "</p><p class='card-text'>Description: " + card.description + "</p><p class='card-text'>Modality: " + card.modality + "</p><p class='card-text'>" + ((card.paired_author !== null) ? 'Paired author: ' +card.paired_author : '') +"</p></div ></div ></a ></div > ");
				cardContainer.append(cardHtml);
			});
		}


        // Function to generate the URL for the card page
        function getCardPageURL(title) {
            // Replace spaces and special characters in the title with dashes
            var formattedTitle = title.replace(/[^a-zA-Z0-9 ]/g, "").replace(/\s+/g, "-").toLowerCase();
            return formattedTitle + ".html"; // Assuming the card pages have .html extensions
        }
-->
<script>
	getCards();     // Initialize the page

    $(document).ready(function () {

        $("#story-filters input").change(filterCards(myData));
        $("#modality-filters input").change(filterCards(myData));
        $("#author-filters input").change(filterCards(myData));

    });
          
    </script>
</body>
</html>
